{% load static %}
<title> Profile </title>



<link rel="stylesheet" href="{% static 'css/profile.css' %}">
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">


</head>

<body>

  <div class="profile-container">
    <a href="{% url 'home' %}" class="close-link">
      <i class='bx bx-x ac-close'></i>
    </a>
    <div class="profile-sticky">
      <!-- âœ… USER INFO ROW (Updated Layout) -->
      <div class="user-row">

        <!-- âœ… PROFILE IMAGE WITH CAMERA & DEFAULT ICON -->
        <div class="profile-pic-wrapper">
          <i class="bx bxs-user default-user-icon"></i>
          <label class="camera-icon">
            <i class="bx bx-camera camera-icon"></i>
            <input type="file" hidden>
          </label>
        </div>

        <!-- âœ… USERNAME + NAME + SETTINGS ICON -->
        <div class="user-right">

          <div class="user-top-row">
            <div class="user-text">
              {% for login in userlogin %}
              <h2 class="username">{{ login.username }}</h2>
              <span class="full-name">{{ login.name }}</span>
              {% endfor %}
            </div>

          </div>

          <!-- âœ… COUNTS ROW (UNCHANGED) -->
          <div class="counts">
            <div>
              <b>12</b>
              <span>Posts</span>
            </div>
            <div>
              <b>150</b>
              <span>Followers</span>
            </div>
            <div>
              <b>200</b>
              <span>Following</span>
            </div>
          </div>

        </div>
      </div>

      <!-- âœ… EDIT BUTTON ROW (UNCHANGED) -->
      <div class="edit-btn-container">
        <a href="{% url 'setting' %}">
          <button class="edit-btn">Edit Profile</button>
        </a>
      </div>

      <!-- âœ… TABS -->
      <div class="tabs">
        <div class="tab active" data-tab="posts">
          <i class="bx bx-grid-alt"></i>
          <span>Posts</span>
        </div>

        <div class="tab" data-tab="reels">
          <i class="bx bx-play-circle"></i>
          <span>Reels</span>
        </div>

        <div class="tab" data-tab="saved">
          <i class="bx bx-bookmark"></i>
          <span>Saved</span>
        </div>
      </div>


      <!-- âœ… POSTS TAB CONTENT (IMPORTANT FIX âœ…) -->
      <div class="tab-content active" id="posts">

        <h2>All Posts</h2>
        <div class="posts-grid">
          {% for p in posts %}
          <div class="post-item">
           
      {% if p.1 %}
        {% if p.1|lower|slice:"-4:" == ".mp4" %}
          <video width="250" controls>
            <source src="{{ p.1 }}" type="video/mp4">
            Your browser does not support video.
          </video>

        {% else %}
          <img src="{{ p.1 }}" width="250">
        {% endif %}
      {% endif %}
          </div>
          {% empty %}
          <p>No posts available.</p>
          {% endfor %}
        </div>
      </div>
    </div>


    <!-- âœ… REELS TAB CONTENT -->
    <div class="tab-content" id="reels">
      <h3 class="gs-title">Reels</h3>
      <p>This is your Reels section.</p>
    </div>


    <!-- âœ… SAVED TAB CONTENT -->
    <div class="tab-content" id="saved">
      <h3 class="gs-title">Saved</h3>
      <p>This is your Saved posts section.</p>
    </div>

      <div class="feed">

            <!-- âœ… SINGLE POST (VIDEO) -->
            <div class="post-card">

                <!-- ðŸ”¥ USER OVERLAY -->
                <div class="post-header">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSU-qUBYEF1T26hIRXdi6wNxXuAJpWXs6KNfA&s" class="post-user-logo">
                    <div>
                        <span class="post-username">pixelaura</span>
                        <small>Suggested For You</small>
                    </div>
                </div>

                <!-- ðŸŽ¥ POST MEDIA -->
                <div class="reel-container" data-type="video">
                    <div class="tap-indicator">
                        <i class="bx bx-pause"></i>
                        <span>Paused</span>
                    </div>

                    <video class="post-media" autoplay loop muted playsinline>
                      <source src="https://cdn.pixabay.com/video/2023/01/23/150310-808285211_large.mp4" type="video/mp4">
                    </video>

                    

                    <!-- â¤ï¸ POST ACTIONS -->
                    <div class="post-actions-vertical">
                        <div class="action-btn likeBtn">
                            <i class="bx bx-heart"></i>
                            <span>1.2k</span>
                        </div>

                        <div class="action-btn">
                            <i class="bx bx-comment commentBtn"></i>
                            <span>245</span>
                        </div>

                        <div class="action-btn">
                            <i class="bx bx-bookmark"></i>
                            <span>Save</span>
                        </div>

                        <!-- âœ… SOUND ICON FOR VIDEO -->
                        <div class="action-btn soundBtn">
                            <i class="bx bx-volume-full"></i>
                            <span>Sound</span>
                        </div>
                    </div>
                </div>
            </div>
      </div>      










    <!--popuo------------------------------------------>
    <!-- âœ… CREATE POST MODAL -->
    <div class="create-post-overlay" id="createPostModal">

      <div class="create-post-box">

        <!-- HEADER -->
        <div class="create-post-header">
          <span>Create new post</span>
          <i class="bx bx-x" id="closePostModal"></i>
        </div>

        <!-- BODY -->
        <div class="create-post-body">
          <i class="bx bx-images post-big-icon"></i>
          <p>Drag photos and videos here</p>

          <button class="select-btn" id="selectFromComputer">
            Select from computer
          </button>

          <input type="file" id="postFileInput" hidden accept="image/*,video/*">
        </div>

      </div>
    </div>


    <!-------------------------------------------------------------secomd popup-->

    <!-- âœ… CROP MODAL -->
    <div class="crop-overlay" id="cropModal">
      <div class="crop-box">
        <i class="bx bx-x close-crop" id="closeCrop"></i>

        <!-- âœ… HEADER -->
        <div class="crop-header">
          <i class="bx bx-arrow-back crop-back" id="backToUpload"></i>
          <button class="share-btn" id="sharepost">Share</button>
        </div>

        <div class="crop-body">
          <!-- âœ… IMAGE PREVIEW -->
          <div class="crop-left">
            <img id="cropImage" src="">
          </div>

          <!-- RIGHT SIDE: USER + CAPTION -->
          <div class="crop-right">

            <div class="user-info">
              <img src="user.jpg" class="user-pic">
              <span class="username">your_username</span>
            </div>
            <textarea class="caption-box" placeholder="Write a caption..."></textarea>
          </div>
        </div>
      </div>
    </div>

    <!--3rd popup------------------------------------------------------->
    <!-- âœ… DISCARD CONFIRM MODAL -->
    <div class="discard-overlay" id="discardModal">

      <div class="discard-box">
        <h3>Discard post?</h3>
        <p>If you leave, your edits won't be saved.</p>

        <div class="discard-actions">
          <button class="discard-btn" id="confirmDiscard">Discard</button>
          <button class="cancel-btn" id="cancelDiscard">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</body>
<script src="{% static 'js/profile.js' %}"></script>

</html>
